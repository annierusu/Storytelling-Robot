<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
          content="width= device-width, initial-scale=1.0">
    <title>Websocket Client</title>
    <style type="text/css" media="screen">
		body {font-family:verdana, sans-serif; color:#666; background:#fafafa; padding:20px; text-align:center;}
		h1 {font-size:16px; font-weight: bold; text-align:center; color: #4167fe;}
		label {font-size:16px;}
		button {margin-left:205px; padding:5px; margin-top:5px; font-size:16px;}
		textarea {width:400px; font-size:16px; font-family: courier, "courier new", monospace; margin:0 0 5px 0; padding:5px; border:1px solid #eee; }
		select {margin:0 0 5px 0;}
		::placeholder {color:#d4d2d2;}
		
	</style>
</head>

<body>



    
    <button onclick="contactServer()">Click Here</button>
    <input type="text" id="message" placeholder="Enter Message">
    <button onclick = "stopServer()">Stop Server</button>
</body>

<script>
    const contactServer = () => {
        const socket = new WebSocket('ws://localhost:10000');
        socket.addEventListener('open', function (event) {
            socket.send(document.getElementById("message").value);
        });
        socket.addEventListener('message', function (event) {
            console.log('Message from server ', event.data);
        });
    }

    const stopServer = () => {
        const socket = new WebSocket('ws://localhost:10000');
        socket.addEventListener('open', function (event) {
            socket.send("close");
            socket.close()
        });
    }
</script>